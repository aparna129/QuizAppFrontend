{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import deleteicon from\"../../images/deleteIcon.png\";import styles from\"./OptionInputs.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function OptionInputsText(_ref){let{questionsArray,onQuestionChange,quizType,editableQuiz}=_ref;const[options,setOptions]=useState([]);const[selectedOptionId,setSelectedOptionId]=useState(null);useEffect(()=>{if(editableQuiz){const updatedOptions=questionsArray.optionValues.map((option,index)=>({...option,id:\"\".concat(index+1)}));setOptions(updatedOptions);setSelectedOptionId(questionsArray.correctAnswer);}else{setSelectedOptionId(null);}// eslint-disable-next-line\n},[editableQuiz]);const handleAddOption=()=>{setOptions(prevOptions=>{if(prevOptions.length<4){const newOption={id:prevOptions.length+1,value:\"\"};const updatedOptions=[...prevOptions,newOption];const updatedQuestion={...questionsArray,optionValues:updatedOptions.map(option=>({value:option.value,imageUrl:option.imageUrl}))};onQuestionChange(updatedQuestion);return updatedOptions;}return prevOptions;});};const handleDeleteOption=id=>{if(options.length>2&&id>2){setOptions(prevOptions=>{const updatedOptions=prevOptions.filter(option=>option.id!==id);const updatedQuestion={...questionsArray,optionValues:updatedOptions.map(option=>({value:option.value,imageUrl:option.imageUrl}))};onQuestionChange(updatedQuestion);return updatedOptions;});}};const handleInputChange=(id,value)=>{setOptions(prevOptions=>{const updatedOptions=prevOptions.map(option=>option.id===id?{...option,value}:option);if(updatedOptions.length<4&&id===updatedOptions.length){const newOption={id:updatedOptions.length+1,value:\"\"};updatedOptions.push(newOption);}const updatedQuestion={...questionsArray,optionValues:updatedOptions.map(option=>({value:option.value,imageUrl:option.imageUrl}))};onQuestionChange(updatedQuestion);return updatedOptions;});};const handleRadioChange=id=>{setOptions(prevOptions=>prevOptions.map(option=>option.id===id?{...option,type:\"textOptionType\"}:option));setSelectedOptionId(id);onQuestionChange({...questionsArray,correctAnswer:id});};return/*#__PURE__*/_jsxs(\"div\",{children:[options.map(option=>/*#__PURE__*/_jsxs(\"div\",{className:styles.optionSection,children:[quizType===\"QnA\"&&editableQuiz===null&&/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:questionsArray.question,id:\"option\".concat(option.id),onChange:()=>handleRadioChange(option.id)}),editableQuiz&&editableQuiz.type===\"QnA\"&&/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:questionsArray.question,id:\"option\".concat(option.id),onChange:()=>handleRadioChange(option.id),checked:Number(option.id)===Number(selectedOptionId)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"option\".concat(option.id),children:/*#__PURE__*/_jsx(\"input\",{style:{backgroundColor:option.id===selectedOptionId||editableQuiz&&editableQuiz.type===\"QnA\"&&Number(option.id)===Number(selectedOptionId)?\"#60B84B\":\"white\",color:option.id===selectedOptionId||editableQuiz&&editableQuiz.type===\"QnA\"&&Number(option.id)===Number(selectedOptionId)?\"white\":\"black\"},className:styles.text1,type:\"text\",placeholder:\"Text\",value:option.value,onChange:e=>handleInputChange(option.id,e.target.value)})}),option.id>2&&/*#__PURE__*/_jsx(\"img\",{className:styles.deleteicon,src:deleteicon,alt:\"deleteicon\",onClick:()=>handleDeleteOption(option.id)})]},option.id)),options.length<4&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:styles.addOptionBtn,onClick:handleAddOption,children:\"Add option\"})})]});}export default OptionInputsText;","map":{"version":3,"names":["React","useState","useEffect","deleteicon","styles","jsx","_jsx","jsxs","_jsxs","OptionInputsText","_ref","questionsArray","onQuestionChange","quizType","editableQuiz","options","setOptions","selectedOptionId","setSelectedOptionId","updatedOptions","optionValues","map","option","index","id","concat","correctAnswer","handleAddOption","prevOptions","length","newOption","value","updatedQuestion","imageUrl","handleDeleteOption","filter","handleInputChange","push","handleRadioChange","type","children","className","optionSection","name","question","onChange","checked","Number","htmlFor","style","backgroundColor","color","text1","placeholder","e","target","src","alt","onClick","addOptionBtn"],"sources":["C:/Users/pvnl0/Desktop/Cuvette/Quiz App/quiz-app-frontend/src/components/Options/OptionInputsText.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport deleteicon from \"../../images/deleteIcon.png\";\r\nimport styles from \"./OptionInputs.module.css\";\r\n\r\nfunction OptionInputsText({\r\n  questionsArray,\r\n  onQuestionChange,\r\n  quizType,\r\n  editableQuiz,\r\n}) {\r\n  const [options, setOptions] = useState([]);\r\n  \r\n  const [selectedOptionId, setSelectedOptionId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (editableQuiz) {\r\n      const updatedOptions = questionsArray.optionValues.map(\r\n        (option, index) => ({\r\n          ...option,\r\n          id: `${index + 1}`,\r\n        })\r\n      );\r\n      setOptions(updatedOptions);\r\n      setSelectedOptionId(questionsArray.correctAnswer);\r\n    } else {\r\n      setSelectedOptionId(null);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [editableQuiz]);\r\n\r\n  const handleAddOption = () => {\r\n    setOptions((prevOptions) => {\r\n      if (prevOptions.length < 4) {\r\n        const newOption = {\r\n          id: prevOptions.length + 1,\r\n          value: \"\",\r\n        };\r\n        const updatedOptions = [...prevOptions, newOption];\r\n\r\n        const updatedQuestion = {\r\n          ...questionsArray,\r\n          optionValues: updatedOptions.map((option) => ({\r\n            value: option.value,\r\n            imageUrl: option.imageUrl,\r\n          })),\r\n        };\r\n\r\n        onQuestionChange(updatedQuestion);\r\n\r\n        return updatedOptions;\r\n      }\r\n\r\n      return prevOptions;\r\n    });\r\n  };\r\n\r\n  const handleDeleteOption = (id) => {\r\n    if (options.length > 2 && id > 2) {\r\n      setOptions((prevOptions) => {\r\n        const updatedOptions = prevOptions.filter((option) => option.id !== id);\r\n\r\n        const updatedQuestion = {\r\n          ...questionsArray,\r\n          optionValues: updatedOptions.map((option) => ({\r\n            value: option.value,\r\n            imageUrl: option.imageUrl,\r\n          })),\r\n        };\r\n\r\n        onQuestionChange(updatedQuestion);\r\n\r\n        return updatedOptions;\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (id, value) => {\r\n    setOptions((prevOptions) => {\r\n      const updatedOptions = prevOptions.map((option) =>\r\n        option.id === id ? { ...option, value } : option\r\n      );\r\n      if (updatedOptions.length < 4 && id === updatedOptions.length) {\r\n        const newOption = {\r\n          id: updatedOptions.length + 1,\r\n          value: \"\",\r\n        };\r\n        updatedOptions.push(newOption);\r\n      }\r\n\r\n      const updatedQuestion = {\r\n        ...questionsArray,\r\n        optionValues: updatedOptions.map((option) => ({\r\n          value: option.value,\r\n          imageUrl: option.imageUrl,\r\n        })),\r\n      };\r\n\r\n      onQuestionChange(updatedQuestion);\r\n\r\n      return updatedOptions;\r\n    });\r\n  };\r\n\r\n  const handleRadioChange = (id) => {\r\n    setOptions((prevOptions) =>\r\n      prevOptions.map((option) =>\r\n        option.id === id ? { ...option, type: \"textOptionType\" } : option\r\n      )\r\n    );\r\n    setSelectedOptionId(id);\r\n\r\n    onQuestionChange({\r\n      ...questionsArray,\r\n      correctAnswer: id,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {options.map((option) => (\r\n        <div key={option.id} className={styles.optionSection}>\r\n          {quizType === \"QnA\" && editableQuiz === null && (\r\n            <input\r\n              type=\"radio\"\r\n              name={questionsArray.question}\r\n              id={`option${option.id}`}\r\n              onChange={() => handleRadioChange(option.id)}\r\n            />\r\n          )}\r\n\r\n          {editableQuiz && editableQuiz.type === \"QnA\" && (\r\n            <input\r\n              type=\"radio\"\r\n              name={questionsArray.question}\r\n              id={`option${option.id}`}\r\n              onChange={() => handleRadioChange(option.id)}\r\n              checked={Number(option.id) === Number(selectedOptionId)}\r\n            />\r\n          )}\r\n\r\n          <label htmlFor={`option${option.id}`}>\r\n            <input\r\n              style={{\r\n                backgroundColor:\r\n                  option.id === selectedOptionId ||\r\n                  (editableQuiz &&\r\n                    editableQuiz.type === \"QnA\" &&\r\n                    Number(option.id) === Number(selectedOptionId))\r\n                    ? \"#60B84B\"\r\n                    : \"white\",\r\n                color:\r\n                  option.id === selectedOptionId ||\r\n                  (editableQuiz &&\r\n                    editableQuiz.type === \"QnA\" &&\r\n                    Number(option.id) === Number(selectedOptionId))\r\n                    ? \"white\"\r\n                    : \"black\",\r\n              }}\r\n              className={styles.text1}\r\n              type=\"text\"\r\n              placeholder=\"Text\"\r\n              value={option.value}\r\n              onChange={(e) => handleInputChange(option.id, e.target.value)}\r\n            />\r\n          </label>\r\n          {option.id > 2 && (\r\n            <img\r\n              className={styles.deleteicon}\r\n              src={deleteicon}\r\n              alt=\"deleteicon\"\r\n              onClick={() => handleDeleteOption(option.id)}\r\n            />\r\n          )}\r\n        </div>\r\n      ))}\r\n\r\n      {options.length < 4 && (\r\n        <div>\r\n          <button className={styles.addOptionBtn} onClick={handleAddOption}>\r\n            Add option\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default OptionInputsText;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}