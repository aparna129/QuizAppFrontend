{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import styles1 from\"../CommonStyles.module.css\";import styles from\"./SignupLogin.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function LoginDetails(){const[loginData,setLoginData]=useState({email:\"\",password:\"\"});const handleLoginInputChange=(field,value)=>{setLoginData({...loginData,[field]:value});};const navigate=useNavigate();const[error,setError]=useState(\"\");const[isLoginClicked,setIsLoginClicked]=useState(false);const baseUrl=localStorage.getItem(\"baseUrl\");const handleLoginBtn=()=>{setIsLoginClicked(true);axios.post(\"\".concat(baseUrl,\"login\"),loginData).then(response=>{const{message}=response.data;toast.success(message);const{jwttoken}=response.data;localStorage.setItem(\"jwtToken\",jwttoken);const{userId}=response.data;localStorage.setItem(\"userId\",userId);setError(\"\");setLoginData({email:\"\",password:\"\"});setIsLoginClicked(false);navigate(\"/dashboard\");}).catch(error=>{if(error.response&&error.response.data&&error.response.data.error){setError(error.response.data.error);}else{setError(\"An error occurred while log in\");}console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:styles.loginContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.signupLoginSection,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.fields,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.fieldHeight,children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.fieldHeight,children:\"Password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.formSection,children:/*#__PURE__*/_jsxs(\"form\",{method:\"post\",className:styles.loginForm,children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{style:{border:isLoginClicked&&loginData.email.length===0?\"1px solid #D60000\":\"\"},className:styles.signupLoginInput,value:loginData.email,onChange:e=>handleLoginInputChange(\"email\",e.target.value),placeholder:isLoginClicked&&loginData.email.length===0?\"Invalid email\":\"\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{style:{border:isLoginClicked&&loginData.password.length===0?\"1px solid #D60000\":\"\"},className:styles.signupLoginInput,value:loginData.password,onChange:e=>handleLoginInputChange(\"password\",e.target.value),placeholder:isLoginClicked&&loginData.password.length===0?\"Invalid password\":\"\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.loginBtnSection,children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLoginBtn,className:styles.signupLoginBtns,children:\"Log In\"})}),/*#__PURE__*/_jsx(\"div\",{children:error?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:styles1.error,children:error})}):/*#__PURE__*/_jsx(_Fragment,{})})]});}export default LoginDetails;","map":{"version":3,"names":["React","useState","useNavigate","axios","toast","styles1","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginDetails","loginData","setLoginData","email","password","handleLoginInputChange","field","value","navigate","error","setError","isLoginClicked","setIsLoginClicked","baseUrl","localStorage","getItem","handleLoginBtn","post","concat","then","response","message","data","success","jwttoken","setItem","userId","catch","console","log","className","loginContainer","children","signupLoginSection","fields","fieldHeight","formSection","method","loginForm","style","border","length","signupLoginInput","onChange","e","target","placeholder","loginBtnSection","onClick","signupLoginBtns"],"sources":["C:/Users/pvnl0/Desktop/Cuvette/Quiz App/quiz-app-frontend/src/components/SignupAndLogin/LoginDetails.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport styles1 from \"../CommonStyles.module.css\";\r\nimport styles from \"./SignupLogin.module.css\";\r\n\r\nfunction LoginDetails() {\r\n  const [loginData, setLoginData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleLoginInputChange = (field, value) => {\r\n    setLoginData({ ...loginData, [field]: value });\r\n  };\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const [isLoginClicked, setIsLoginClicked] = useState(false);\r\n\r\n  const baseUrl = localStorage.getItem(\"baseUrl\");\r\n\r\n  const handleLoginBtn = () => {\r\n    setIsLoginClicked(true);\r\n    axios\r\n      .post(`${baseUrl}login`, loginData)\r\n      .then((response) => {\r\n        const { message } = response.data;\r\n        toast.success(message);\r\n        const { jwttoken } = response.data;\r\n        localStorage.setItem(\"jwtToken\", jwttoken);\r\n        const { userId } = response.data;\r\n        localStorage.setItem(\"userId\", userId);\r\n        setError(\"\");\r\n        setLoginData({\r\n          email: \"\",\r\n          password: \"\",\r\n        });\r\n        setIsLoginClicked(false);\r\n        navigate(\"/dashboard\");\r\n      })\r\n      .catch((error) => {\r\n        if (\r\n          error.response &&\r\n          error.response.data &&\r\n          error.response.data.error\r\n        ) {\r\n          setError(error.response.data.error);\r\n        } else {\r\n          setError(\"An error occurred while log in\");\r\n        }\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.loginContainer}>\r\n      <div className={styles.signupLoginSection}>\r\n        <div className={styles.fields}>\r\n          <p className={styles.fieldHeight}>Email</p>\r\n          <p className={styles.fieldHeight}>Password</p>\r\n        </div>\r\n\r\n        <div className={styles.formSection}>\r\n          <form method=\"post\" className={styles.loginForm}>\r\n            <p>\r\n              <input\r\n                style={{\r\n                  border:\r\n                    isLoginClicked && loginData.email.length === 0\r\n                      ? \"1px solid #D60000\"\r\n                      : \"\",\r\n                }}\r\n                className={styles.signupLoginInput}\r\n                value={loginData.email}\r\n                onChange={(e) =>\r\n                  handleLoginInputChange(\"email\", e.target.value)\r\n                }\r\n                placeholder={\r\n                  isLoginClicked && loginData.email.length === 0\r\n                    ? \"Invalid email\"\r\n                    : \"\"\r\n                }\r\n              ></input>\r\n            </p>\r\n            <p>\r\n              <input\r\n                style={{\r\n                  border:\r\n                    isLoginClicked && loginData.password.length === 0\r\n                      ? \"1px solid #D60000\"\r\n                      : \"\",\r\n                }}\r\n                className={styles.signupLoginInput}\r\n                value={loginData.password}\r\n                onChange={(e) =>\r\n                  handleLoginInputChange(\"password\", e.target.value)\r\n                }\r\n                placeholder={\r\n                  isLoginClicked && loginData.password.length === 0\r\n                    ? \"Invalid password\"\r\n                    : \"\"\r\n                }\r\n              ></input>\r\n            </p>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div className={styles.loginBtnSection}>\r\n        <button onClick={handleLoginBtn} className={styles.signupLoginBtns}>\r\n          Log In\r\n        </button>\r\n      </div>\r\n      <div>\r\n        {error ? (\r\n          <div>\r\n            <p className={styles1.error}>{error}</p>\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}