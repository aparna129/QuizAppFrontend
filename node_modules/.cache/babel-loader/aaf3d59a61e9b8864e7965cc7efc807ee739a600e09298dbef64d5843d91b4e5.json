{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import styles1 from\"../CommonStyles.module.css\";import styles from\"./SignupLogin.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SignUpDetails(_ref){let{onSignUpSuccess}=_ref;const[signUpData,setSignUpData]=useState({username:\"\",email:\"\",password:\"\",confirmPassword:\"\"});const handleSignUpInputChange=(field,value)=>{setSignUpData({...signUpData,[field]:value});};const[isSignUpClicked,setIsSignUpClicked]=useState(false);const[error,setError]=useState(\"\");const baseUrl=localStorage.getItem(\"baseUrl\");const handleSignUp=()=>{setIsSignUpClicked(true);axios.post(\"\".concat(baseUrl,\"signup\"),signUpData).then(response=>{const{message}=response.data;setError(\"\");setSignUpData({username:\"\",email:\"\",password:\"\",confirmPassword:\"\"});toast.success(message);setIsSignUpClicked(false);onSignUpSuccess();}).catch(error=>{if(error.response&&error.response.data&&error.response.data.error){setError(error.response.data.error);}else{setError(\"An error occurred while creating the user\");}console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:styles.signupContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.signupLoginSection,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.fields,children:[/*#__PURE__*/_jsx(\"p\",{className:styles.name,children:\"Name\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.fieldHeight,children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.fieldHeight,children:\"Password\"}),/*#__PURE__*/_jsx(\"p\",{className:styles.fieldHeight,children:\"Confirm Password\"})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.formSection,children:/*#__PURE__*/_jsxs(\"form\",{method:\"post\",className:styles.signupForm,children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{style:{border:isSignUpClicked&&signUpData.username.length===0?\"1px solid #D60000\":\"\"},className:styles.signupLoginInput,value:signUpData.name,onChange:e=>handleSignUpInputChange(\"username\",e.target.value),placeholder:isSignUpClicked&&signUpData.username.length===0?\"Invalid name\":\"\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{style:{border:isSignUpClicked&&signUpData.email.length===0?\"1px solid #D60000\":\"\"},className:styles.signupLoginInput,value:signUpData.email,onChange:e=>handleSignUpInputChange(\"email\",e.target.value),placeholder:isSignUpClicked&&signUpData.email.length===0?\"Invalid email\":\"\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{style:{border:isSignUpClicked&&signUpData.password.length===0?\"1px solid #D60000\":\"\"},className:styles.signupLoginInput,value:signUpData.password,onChange:e=>handleSignUpInputChange(\"password\",e.target.value),placeholder:isSignUpClicked&&signUpData.password.length===0?\"Invalid password\":\"\"})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{style:{border:isSignUpClicked&&(signUpData.confirmPassword.length===0||signUpData.confirmPassword!==signUpData.password)?\"1px solid #D60000\":\"\"},className:styles.signupLoginInput,value:signUpData.confirmPassword,onChange:e=>handleSignUpInputChange(\"confirmPassword\",e.target.value),placeholder:isSignUpClicked&&signUpData.confirmPassword.length===0?\"Password doesn't match\":\"\"})})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.signupBtnSection,children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSignUp,className:styles.signupLoginBtns,children:\"Sign-Up\"})}),/*#__PURE__*/_jsx(\"div\",{children:error?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:styles1.error,children:error})}):/*#__PURE__*/_jsx(_Fragment,{})})]});}export default SignUpDetails;","map":{"version":3,"names":["React","useState","axios","toast","styles1","styles","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SignUpDetails","_ref","onSignUpSuccess","signUpData","setSignUpData","username","email","password","confirmPassword","handleSignUpInputChange","field","value","isSignUpClicked","setIsSignUpClicked","error","setError","baseUrl","localStorage","getItem","handleSignUp","post","concat","then","response","message","data","success","catch","console","log","className","signupContainer","children","signupLoginSection","fields","name","fieldHeight","formSection","method","signupForm","style","border","length","signupLoginInput","onChange","e","target","placeholder","signupBtnSection","onClick","signupLoginBtns"],"sources":["C:/Users/pvnl0/Desktop/Cuvette/Quiz App/quiz-app-frontend/src/components/SignupAndLogin/SignUpDetails.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport styles1 from \"../CommonStyles.module.css\";\r\nimport styles from \"./SignupLogin.module.css\";\r\n\r\nfunction SignUpDetails({ onSignUpSuccess }) {\r\n  const [signUpData, setSignUpData] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n\r\n  const handleSignUpInputChange = (field, value) => {\r\n    setSignUpData({\r\n      ...signUpData,\r\n      [field]: value,\r\n    });\r\n  };\r\n\r\n  const [isSignUpClicked, setIsSignUpClicked] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const baseUrl = localStorage.getItem(\"baseUrl\");\r\n\r\n  const handleSignUp = () => {\r\n    setIsSignUpClicked(true);\r\n    axios\r\n      .post(`${baseUrl}signup`, signUpData)\r\n      .then((response) => {\r\n        const { message } = response.data;\r\n        setError(\"\");\r\n        setSignUpData({\r\n          username: \"\",\r\n          email: \"\",\r\n          password: \"\",\r\n          confirmPassword: \"\",\r\n        });\r\n        toast.success(message);\r\n        setIsSignUpClicked(false);\r\n        onSignUpSuccess();\r\n      })\r\n      .catch((error) => {\r\n        if (\r\n          error.response &&\r\n          error.response.data &&\r\n          error.response.data.error\r\n        ) {\r\n          setError(error.response.data.error);\r\n        } else {\r\n          setError(\"An error occurred while creating the user\");\r\n        }\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.signupContainer}>\r\n      <div className={styles.signupLoginSection}>\r\n        <div className={styles.fields}>\r\n          <p className={styles.name}>Name</p>\r\n          <p className={styles.fieldHeight}>Email</p>\r\n          <p className={styles.fieldHeight}>Password</p>\r\n          <p className={styles.fieldHeight}>Confirm Password</p>\r\n        </div>\r\n\r\n        <div className={styles.formSection}>\r\n          <form method=\"post\" className={styles.signupForm}>\r\n            <p>\r\n              <input\r\n                style={{\r\n                  border:\r\n                    isSignUpClicked && signUpData.username.length === 0\r\n                      ? \"1px solid #D60000\"\r\n                      : \"\",\r\n                }}\r\n                className={styles.signupLoginInput}\r\n                value={signUpData.name}\r\n                onChange={(e) =>\r\n                  handleSignUpInputChange(\"username\", e.target.value)\r\n                }\r\n                placeholder={\r\n                  isSignUpClicked && signUpData.username.length === 0\r\n                    ? \"Invalid name\"\r\n                    : \"\"\r\n                }\r\n              ></input>\r\n            </p>\r\n            <p>\r\n              <input\r\n                style={{\r\n                  border:\r\n                    isSignUpClicked && signUpData.email.length === 0\r\n                      ? \"1px solid #D60000\"\r\n                      : \"\",\r\n                }}\r\n                className={styles.signupLoginInput}\r\n                value={signUpData.email}\r\n                onChange={(e) =>\r\n                  handleSignUpInputChange(\"email\", e.target.value)\r\n                }\r\n                placeholder={\r\n                  isSignUpClicked && signUpData.email.length === 0\r\n                    ? \"Invalid email\"\r\n                    : \"\"\r\n                }\r\n              ></input>\r\n            </p>\r\n            <p>\r\n              <input\r\n                style={{\r\n                  border:\r\n                    isSignUpClicked && signUpData.password.length === 0\r\n                      ? \"1px solid #D60000\"\r\n                      : \"\",\r\n                }}\r\n                className={styles.signupLoginInput}\r\n                value={signUpData.password}\r\n                onChange={(e) =>\r\n                  handleSignUpInputChange(\"password\", e.target.value)\r\n                }\r\n                placeholder={\r\n                  isSignUpClicked && signUpData.password.length === 0\r\n                    ? \"Invalid password\"\r\n                    : \"\"\r\n                }\r\n              ></input>\r\n            </p>\r\n            <p>\r\n              <input\r\n                style={{\r\n                  border:\r\n                    isSignUpClicked &&\r\n                    (signUpData.confirmPassword.length === 0 ||\r\n                      signUpData.confirmPassword !== signUpData.password)\r\n                      ? \"1px solid #D60000\"\r\n                      : \"\",\r\n                }}\r\n                className={styles.signupLoginInput}\r\n                value={signUpData.confirmPassword}\r\n                onChange={(e) =>\r\n                  handleSignUpInputChange(\"confirmPassword\", e.target.value)\r\n                }\r\n                placeholder={\r\n                  isSignUpClicked && signUpData.confirmPassword.length === 0\r\n                    ? \"Password doesn't match\"\r\n                    : \"\"\r\n                }\r\n              ></input>\r\n            </p>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div className={styles.signupBtnSection}>\r\n        <button onClick={handleSignUp} className={styles.signupLoginBtns}>\r\n          Sign-Up\r\n        </button>\r\n      </div>\r\n      <div>\r\n        {error ? (\r\n          <div>\r\n            <p className={styles1.error}>{error}</p>\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignUpDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}